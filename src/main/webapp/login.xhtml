<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/WEB-INF/templates/default.xhtml">
    <ui:define name="content">
        <div class="row">
            <div class="span12">
                <h:form id="sign-in" class="form-signin">
                    <h3>Login</h3>
                    <h4 class="form-signin-heading">Please sign in</h4>
                    <h:inputText class="input-block-level" placeholder="Email address" value="#{principle.id}"/>
                    <h:inputSecret type="password" class="input-block-level" placeholder="Password"
                                   value="#{principle.password}"/>
                    <label class="checkbox">
                        <h:selectBooleanCheckbox type="checkbox"
                                                 value="#{principle.rememberMe}"> Remember me </h:selectBooleanCheckbox>
                    </label>

                    <div class="row">
                        <div class="span2">
                            <h:commandButton id="login" action="#{memberController.login}"
                                             class="btn btn-large btn-primary"
                                             type="submit" value="Sign in"/>
                        </div>
                        <div class="span2">
                            <h:outputLink value="register.jsf" id="register"
                                          class="btn-small">Register Me</h:outputLink>
                        </div>

                        <div class="row">
                            <div class="span4">
                                <h:messages styleClass="messages"
                                            errorClass="invalid" infoClass="valid"
                                            warnClass="warning" globalOnly="true"/>
                            </div>
                        </div>
                    </div>
                </h:form>


            </div>
        </div>
        <div class="row">
            <div class="span12">
                <h:outputText>searchEnabledJsf: #{searchEnabledJsf}</h:outputText>

                <h3>Members</h3>
                <h:panelGroup rendered="#{empty members}">
                    <em>No registered members.</em>
                </h:panelGroup>
                <h:dataTable var="_member" value="#{members}"
                             rendered="#{not empty members}"
                             styleClass="table table-striped table-bordered">
                    <h:column>
                        <f:facet name="header">Id</f:facet>
                        #{_member.id}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Name</f:facet>
                        #{_member.name}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Email</f:facet>
                        #{_member.email}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Phone #</f:facet>
                        #{_member.phoneNumber}
                    </h:column>
                    <h:column>
                        <f:facet name="header">REST URL</f:facet>
                        <a
                                href="#{request.contextPath}/rest/members/#{_member.id}">/rest/members/#{_member.id}</a>
                    </h:column>
                    <f:facet name="footer">
                        REST URL for all members: <a
                            href="#{request.contextPath}/rest/members">/rest/members</a>
                    </f:facet>
                </h:dataTable>
            </div>
        </div>
    </ui:define>
</ui:composition>
